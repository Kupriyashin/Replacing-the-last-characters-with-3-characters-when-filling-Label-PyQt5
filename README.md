<div align="center">
  <h1>–ó–∞–º–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ 3-–º—è —Å–∏–º–≤–æ–ª–∞–º–∏ –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ Label PyQt5 / Replacing the last characters with 3 characters when filling in Label PyQt5</h1>
</div>
    
<div align="center">
  <h2>–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–µ–∑–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞</h2>
</div>

<div align="center">
  <img src="https://github.com/Kupriyashin/Replacing-the-last-characters-with-3-characters-when-filling-Label-PyQt5/blob/a576d67418b4eec41233ee0fe91bf8059f7d2f22/Demo/%D0%9E%D0%B1%D1%80%D0%B5%D0%B7%D0%BA%D0%B0%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%B0.gif"/>
</div>

<div align="center">
  <h2>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–æ–¥—É</h2>
</div>

<h3>–§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:</h3>

>**–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç/**
>>**Demo/**
>>>**–û–±—Ä–µ–∑–∫–∞ —Ç–µ–∫—Å—Ç–∞.gif<br>**

>>**Forms/**
>>>**__init__.py<br>**
>>>**TextForm.py<br>**
>>>**TextForm.ui<br>**

>>**RandomMeovSentence/**
>>>**__init__.py<br>**
>>>**RandomSentence.py<br>**

>>**Debug.log<br>**
>>**Main.py<br>**
>>**Requirements<br>**

<h3>–û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:</h3>

<h4>–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è Forms/</h4>

>**__init__.py**

–§–∞–π–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –í –Ω–µ–º —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

```python
from loguru import logger

from Forms.TextForm import Ui_Form

logger.info(f"–ö–ª–∞—Å—Å Ui_Form –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω: {Ui_Form}")
```
–§–∞–π–ª –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞ —Ñ–æ—Ä–º—ã ___Ui_Form___.

>**TextForm.py**
>
>**TextForm.ui**

**TextForm.ui** - –§–∞–π–ª –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ **ui**, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –¥–ª—è **PyQt5 designer**.

**TextForm.py** - –§–∞–π–ª –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ **py**, —è–≤–ª—è–µ—Ç—Å—è –∞–Ω–∞–ª–æ–≥–æ–º **TextForm.ui**, –Ω–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ **Python** —Å –æ–±—ä–µ–∫—Ç–æ–º –∫–ª–∞—Å—Å–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º. –ö–æ–¥ —Ñ–∞–π–ª–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –Ω–∏–∂–µ:

```python
# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'Forms/TextForm.ui'
#
# Created by: PyQt5 UI code generator 5.15.9
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets


class Ui_Form(object):
    def setupUi(self, Form):
        Form.setObjectName("Form")
        Form.resize(400, 90)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Fixed, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(Form.sizePolicy().hasHeightForWidth())
        Form.setSizePolicy(sizePolicy)
        Form.setMinimumSize(QtCore.QSize(400, 90))
        Form.setMaximumSize(QtCore.QSize(400, 90))
        self.verticalLayout = QtWidgets.QVBoxLayout(Form)
        self.verticalLayout.setObjectName("verticalLayout")
        self.horizontalLayout = QtWidgets.QHBoxLayout()
        self.horizontalLayout.setObjectName("horizontalLayout")
        self.label = QtWidgets.QLabel(Form)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Maximum, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.label.sizePolicy().hasHeightForWidth())
        self.label.setSizePolicy(sizePolicy)
        self.label.setObjectName("label")
        self.horizontalLayout.addWidget(self.label)
        self.label_2 = QtWidgets.QLabel(Form)
        self.label_2.setObjectName("label_2")
        self.horizontalLayout.addWidget(self.label_2)
        self.verticalLayout.addLayout(self.horizontalLayout)
        self.horizontalLayout_2 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_2.setObjectName("horizontalLayout_2")
        spacerItem = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_2.addItem(spacerItem)
        self.pushButton = QtWidgets.QPushButton(Form)
        self.pushButton.setObjectName("pushButton")
        self.horizontalLayout_2.addWidget(self.pushButton)
        spacerItem1 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_2.addItem(spacerItem1)
        self.verticalLayout.addLayout(self.horizontalLayout_2)

        self.retranslateUi(Form)
        QtCore.QMetaObject.connectSlotsByName(Form)

    def retranslateUi(self, Form):
        _translate = QtCore.QCoreApplication.translate
        Form.setWindowTitle(_translate("Form", "–û–±—Ä–µ–∑–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞"))
        self.label.setText(_translate("Form", "–í—Å—Ç–∞–≤–ª—è–µ–º—ã–π —Ç–µ–∫—Å—Ç:"))
        self.label_2.setText(_translate("Form", "–ü—É—Å—Ç–æ"))
        self.pushButton.setText(_translate("Form", "–í—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç"))
```

<h4>–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è RandomMeovSentence/</h4>

>**__init__.py**

–§–∞–π–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –í –Ω–µ–º —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

```python
from loguru import logger

from RandomMeovSentence.RandomSentence import Sentence

logger.info(f"–ö–ª–∞—Å—Å Sentence –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω: {Sentence}")
```
–§–∞–π–ª –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞ ___Sentence___.

>**RandomSentence.py<br>**
>>**–ö–ª–∞—Å—Å Sentence**
>>>**–ú–µ—Ç–æ–¥ random_moew_sentence()**
>>>
>>>**–ú–µ—Ç–æ–¥ sentence()**
>>>
–î–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –∫–ª–∞—Å—Å–∞ __Sentence__, –≤ –∫–æ—Ç–æ—Ä—ã–π –≤—Ö–æ–¥—è—Ç –º–µ—Ç–æ–¥—ã __random_moew_sentence()__ –∏ __sentence__. 

__random_moew_sentence()__ –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏–∑ —Å–ª–æ–≤ "–ú—è—É" —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –∑–Ω–∞–∫–æ–≤ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –∏ —Å–º–∞–π–ª–∏–∫–æ–≤, –∫–æ–¥ –º–µ—Ç–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –Ω–∏–∂–µ:

```python
@logger.catch()
def random_moew_sentence(self) -> str:
    """
    –§—É–Ω–∫—Ü–∏—è –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–∞—è—â–µ–µ –∏–∑ —Ä–∞–Ω–¥–æ–º–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–ª–æ–≤ –ú—è—É, –∑–Ω–∞–∫–æ–≤ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –∏ —Å–º–∞–π–ª–∏–∫–æ–≤
    :return:
    """
    try:

        _words = ['–º—è—É'] * random.randint(3, 10)
        logger.info(_words)

        _words[-1] = _words[-1] + str(random.choice(['.', '!', '?']))

        for _ in range(0, len(_words) - 1):

            if random.random() < 0.01:
                _words[_] = _words[_] + str(random.choice(['üò∫', 'üò∏', 'üòπ', 'üòª', 'üòº', 'üòΩ', 'üôÄ', 'üòø', 'üòæ']))

            if random.random() < 0.1:
                _words[_] = _words[_] + str(random.choice([',', ':', ' -', '']))

        _sentence = ' '.join(_words)
        _sentence = _sentence.capitalize()
        logger.info(f'–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ random_moew_sentence: {_sentence}')

        return str(_sentence)

    except Exception as process_file_err:
        logger.error(f'–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –≤ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≤ meow: {process_file_err}')
```

__sentence()__ - —Å–æ–∑–¥–∞–µ—Ç —Ä–∞–Ω–¥–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ __random_moew_sentence()__. –ö–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –Ω–∏–∂–µ:

```python
@logger.catch()
def sentence(self) -> str:
    """
    –§—É–Ω–∫—Ü–∏—è –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Ä–∞–Ω–¥–æ–º–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–∏ random_moew_sentence.
    –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–æ—Ç–æ–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏–∑ —Å–ª–æ–≤ –ú—è—É —Å–æ –∑–Ω–∞–∫–∞–º–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –∏ —Å–º–∞–π–ª–∏–∫–∞–º–∏.
    :return:
    """
    try:
        _outsectence = []
        if random.random() > 0.5:
            _outsectence.append(self.random_moew_sentence())
        elif random.random() < 0.01:
            for a in range(6):
                _outsectence.append(self.random_moew_sentence() + ' ')
        elif random.random() < 0.1:
            for b in range(5):
                _outsectence.append(self.random_moew_sentence() + ' ')
        elif random.random() < 0.2:
            for c in range(4):
                _outsectence.append(self.random_moew_sentence() + ' ')
        elif random.random() < 0.3:
            for d in range(3):
                _outsectence.append(self.random_moew_sentence() + ' ')
        elif random.random() < 0.4:
            for f in range(2):
                _outsectence.append(self.random_moew_sentence() + ' ')
        elif random.random() < 0.5:
            for g in range(1):
                _outsectence.append(self.random_moew_sentence() + ' ')

        _output = ''.join(_outsectence)
        logger.info(f'–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ sentence: {_output}')

        return _output

    except Exception as err_sentence:
        logger.error(err_sentence)
        return '–ú—è—É –º—è—É –º—è—É –º—è—É, –º—è—É –º—è—É –º—è—É –º—è—É –º—è—É?'
```

<h4>–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª main.py/</h4>

–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞. –í –Ω–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å —Ñ–æ—Ä–º—ã __MainWindow__, –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º —Ñ–æ—Ä–º—ã –∏–∑ **TextForm.py**, –∫–æ–Ω–Ω–µ–∫—Ç–∏—Ç—Å—è –Ω–∞–∂–∏–º–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ **add_text()** –∏ –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–∞ **Sentence()**

–ö–æ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –∫–ª–∞—Å—Å–∞ __MainWindow__ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –Ω–∏–∂–µ:

```python
def __init__(self):
    super(MainWindow, self).__init__()

    self.ui = Ui_Form()
    self.ui.setupUi(self)
    logger.info(f"–û–±—ä–µ–∫—Ç–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: {self.ui}")

    self.sentence = Sentence()
    logger.info(f"–û–±—ä–µ–∫—Ç Sentence —Å–æ–∑–¥–∞–Ω: {self.sentence}")

    self.ui.pushButton.clicked.connect(lambda: self.add_text())
```

>**–ú–µ—Ç–æ–¥ add_text()**

–ú–µ—Ç–æ–¥ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ –Ω–∞ —Ñ–æ—Ä–º–µ. –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ **sentence()** –∏–∑ –∫–ª–∞—Å—Å–∞ **Sentence**, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π **_sentence** (–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–Ω–¥–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤).
–î–∞–ª–µ–µ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ Label —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–ª–∞—Å—Å–∞ **QFontMetrics** –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π **_metric**
–î–∞–ª–µ–µ –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥ **elidedText** –∫–ª–∞—Å—Å–∞ **QFontMetrics** –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç. –í —Å–ª—É—á–∞–µ –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç –ø–æ —à–∏—Ä–∏–Ω–µ –±–æ–ª—å—à–µ LAbel –≤ –∫–æ–Ω—Ü–µ –æ–Ω –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è –∏ –¥–æ–ø–æ–ª–Ω—è—é—Ç—Å—è 3 —Ç–æ—á–∫–∏. –ö–æ–¥ –º–µ—Ç–æ–¥–∞ **add_text()** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –Ω–∏–∂–µ:

```python
@logger.catch()
@pyqtSlot()
def add_text(self):
    logger.info(f"–ú–µ—Ç–æ–¥ {self.add_text} –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω")

    _sentence = self.sentence.sentence()
    logger.info(f"–ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï –î–õ–Ø –í–°–¢–ê–í–ö–ò –ü–û–õ–£–ß–ï–ù–û: {_sentence}")

    _metric = QFontMetrics(self.ui.label_2.font())
    logger.info(f"–ü–æ–ª—É—á–µ–Ω –æ–±—ä–µ–∫—Ç –º–µ—Ç—Ä–∏–∫–∏ —Ç–µ–∫—Å—Ç–∞: {_metric}")

    _elided = _metric.elidedText(_sentence, Qt.ElideRight, self.ui.label_2.width())
    logger.info(f"–û–±—ä–µ–∫—Ç _elided —Å–æ–∑–¥–∞–Ω: {_elided}")

    self.ui.label_2.setText(str(_elided))
```

>**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è if __name__ == '__main__':**

–î–∞–Ω–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É. –ö–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –Ω–∏–∂–µ:

```python
logger.info("–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è")

_app = QApplication(sys.argv)
_app.setStyle("Fusion")
_window = MainWindow()
_window.show()

logger.info("–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—â–µ–Ω–∞")

sys.exit(_app.exec_())
```
